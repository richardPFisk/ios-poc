fragment itemsFragment on NotificationItem {
  id
  title {
    ...actionableFragment
  }
  ...on Job {
     __typename
    id
    title {
      ...actionableFragment
    }
    advertiser {
      __typename
      name
    }
    location {
      __typename
      flattened
    }
    branding {
      logo
      tooltip
    } 
  }
  ...on RatingNotificationItem {
    id
    title {
      ...actionableFragment
    } 
  }
}

fragment actionableFragment on Actionable {
  text
  actions {
   action
    ...on NavigationAction {
      action
    }
    ... on MutationAction {
      action
    }
  }
}

query notificationCentre($first: Int, $after: String) {
  notifications(first: $first, after: $after) {
    __typename
    totalCount
    totalUnread
    pageInfo {
      __typename
      startCursor
      hasPrevPage
      endCursor
      hasNextPage
    }
    edges {
      __typename
      node {
        __typename
        id 
        allowFallback
        viewed
        title {
          ...actionableFragment
        }
        items {
          ...itemsFragment
        }
      }
      cursor
    }
  }
}